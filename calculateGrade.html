<html>
<head>
	<title></title>
</head>
<body>
<script>
/*
	1. 함수와 변수의 이름 지정 (목적에 맞게 이름 짓기, 함수는 동사+명사로 지정)
		- data : 정보가 들어있는 배열 혹은 객체
		- showGrade : 학점을 계산하는 함수 이름
		- gradesObj : 해당학점의 평점 값을 담고 있는 객체
		- totalGrade : 총평점
		- totalCredit : 총이수학점
		- majorGrade : 전공평점
		- majorCredit : 전공이수학점
		- chagedFac : 만점을 바꿔주고 싶은 숫자
		- chagedTotalGrade : 만점이 4.5가 아니라 다른점수일 경우에 총평점.
 	2. gradesObj의 학점을 평점으로 바꿔준다.
	3. 총평점과 총이수학점을 구한다. 총평점 : 학점 * 이수학점 + 학점 * 이수학점 + 학점 * 이수학점 ... / 총 이수학점
	4. 총평점과 총이수학점을 구할 때 전공이면 전공평점과 전공이수학점을 if문을 써서 구한다.
	5. 과목을 추가하는 함수를 생성!
	6. 2초뒤에 실행하게 하는 delayRun함수 생성
*/

var data =  [ 
                {
                    'name' : '데이터베이스', 
                    'grade' : 'A', 
                    'credit' : 3,
                    'major' : true
                },
                {
                    'name' : '교양영어', 
                    'grade' : 'B+', 
                    'credit' : 2,
                    'major' : false
                },
                {
                    'name' : '철학', 
                    'grade' : 'B+', 
                    'credit' : 1,
                    'major' : false
                }
];

function showData(data, chagedFac = 4){
	var totalGrade = 0;
	var totalCredit = 0;
	var majorGrade = 0;
	var majorCredit = 0;
	var chagedTotalGrade = 0;
	var gradesObj = {
		"A+" : 4.5,
		"A" : 4.0,
		"B+" : 3.5,
		"B" : 3.0,
		"C+" : 2.5,
		"C" : 2.0,
		"D+" : 1.5,
		"D" : 1.0,
		"F" : 0
	}
	for(let i = 0; i < data.length; i++){
		if(data[i]["major"]){
			majorGrade += (gradesObj[data[i]["grade"]] * data[i]["credit"]);
			majorCredit += data[i]["credit"];
		}
		totalGrade += (gradesObj[data[i]["grade"]] * data[i]["credit"]);
		totalCredit += data[i]["credit"];
	}
	totalGrade = (totalGrade / totalCredit).toFixed(2);
	majorGrade = (majorGrade / majorCredit).toFixed(2);
	chagedTotalGrade = (totalGrade * chagedFac / 4.5).toFixed(2);  
	console.log("총평점 " + totalGrade + ", 전공평점 " + majorGrade +", 총이수학점 " + totalCredit + ", 전공이수학점 " + majorCredit );
	console.log(chagedFac + "학점으로 변환하는 경우 총평점은 " + chagedTotalGrade + "입니다.")
}

function addLecture(addData){
	data.push(addData);
}
function delayRun(){
	setTimeout(showData,2000,data);
}

delayRun();
</script>
</body>
</html>