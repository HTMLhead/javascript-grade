# 평점과 이수학점

- ### 설계

  - **showGrade 함수**
    - 필요한 변수
      - 과목의 갯수 체크를 위한
      - 이수학점 데이터 관리를 위한
      - 총 평점 데이터 관리를 위한
    - 과목의 갯수만큼 반복문을 수행
      - ~~해당 데이터에서 3번째 인덱스 (학점) 접근해서 데이터 계산~~
      - 총 평점 계산을 위한 2번째 인덱스 접근
        - case문을 이용한 학점 계산
          - A+, A, B+, B, C+, C, D+, D, F
        - 이수학점 계산을 위한 3번째 인덱스 접근
    - 소숫점 3번째 자리에서 반올림 처리
    - 출력
  - **translateGradeToNum(_grade) 함수**
    - 학점(A+, A ...) 을 숫자로 변환하기 위한 함수



- ### 코드

  ```javascript
  function showGrade(data) {
      // 일단 과목의 갯수를 체크하기 위해서 변수를 선언
      // 이수학점 데이터를 관리하기 위해 변수 선언
      // 총 평점 데이터를 관리하기 위해 변수 선언
      var subjectNumber = data.length;
      var completionGradeNum = 0;
      var totalGradeNum = 0;

      const gradeIndex = 1;
      const gradeNumIndex = 2;
      
      // 과목의 갯수만큼 반복문을 수행
      for (var i=0; i<subjectNumber; i++) {
          // 해당 데이터에서 인덱스를 접근해 데이터 계산
          var grade = data[i][gradeIndex];
          console.log(grade);
          var gradeNum = data[i][gradeNumIndex];
          console.log(gradeNum);
          
          completionGradeNum += translateGradeToNum(grade);
          totalGradeNum += gradeNum;
      }

      // 소숫점 3번째 자리에서 반올림 처리
      completionGradeNum = (completionGradeNum/subjectNumber).toFixed(2);

      // 출력
      console.log("총 평점 " + completionGradeNum + " , 이수학점 " + totalGradeNum);
  }

  // 학점(A+, A ...) 을 숫자로 변환하기 위한 함수
  function translateGradeToNum(_grade) {
      switch (_grade) {
          case "A+":
              return 4.5;
          case "A":
              return 4;
          case "B+":
              return 3.5;
          case "B":
              return 3;
          case "C+":
              return 2.5;
          case "C":
              return 2;
          case "D+":
              return 1.5;
          case "D":
              return 1;
          default:
              return 0;
      }
  }

  var data = [ ['데이터베이스', 'A', 3], ['교양영어', 'B+', 1], ['철학', 'A', 2]];
  showGrade(data);
  ```

  ​


- ### 요구사항

  학점은 이와 같이 동작하는 프로그램이다.

  <https://goo.gl/7XPMr8>

  위와 같은 UI로 동작하지 않는다. console기반으로 동작한다.

  과목명, 점수, 학점 세가지 데이터를 설정한다. 그 이후에 총 평점을 계산한다. 따라서 showGrade함수를 구현하면 된다.

  ```javascript
  > var data = [ ['데이터베이스', 'A', 3], ['교양영어', 'B+', 1], ['철학', 'A', 2]];
  > showGrade(data);
  > "총평점 3.92 , 이수학점 6"
  ```

  코드구현 전에 코드 구조를 설계 하고, 설계한 인증화면을 이미지로 PR에 첨부한다.(종이를 카메라로 찍거나, 뼈대코드를 제출하거나 등등 자유롭게)



- ### 힌트
  - #### 이중배열

    이중배열은 반복문을 중첩 사용해서도 값을 얻을 수 있고 '[][]' 처럼 괄호를 연속적으로 써서 값을 얻을 수 있다.

  - #### 기타

    소수점 자리수를 원하는 길이로 맞출 수 있는 방법이 존재한다. 이를 필요하면 찾아보자. A,B+과 같은 점수는 점수로 매핑해서 계산하면 된다. 이때 분기문을 사용할 수 있겠다.



- ## 객체(딕셔너리)로 성적 바꾸기

- ### 요구사항 (객체(딕셔너리)로 성적바꾸기)

  ```javascript
  var data =  [ 
                  {
                      'name' : '데이터베이스', 
                      'grade' : 'A', 
                      'credit' : 3
                  },
                  {
                      'name' : '교양영어', 
                      'grade' : 'B+', 
                      'credit' : 2
                  },
                  {
                      'name' : '철학', 
                      'grade' : 'B+', 
                      'credit' : 1
                  }
  ];

  showGrade(data);
  > "총평점 3.92 , 이수학점 6"
  ```

  - 객체형태로 데이터를 변환해서 구현
    - `for in` 형태로 데이터를 추출



- ## 전공항목 추가와 새로운 함수 만들기

- ### 요구사항 1

  - 전공항목을 추가해서 아래와 같이 결과가 나오도록 한다

    ```javascript
    var data =  [ 
                    {
                        'name' : '데이터베이스', 
                        'grade' : 'A', 
                        'credit' : 3,
                        'major' : true  //이런식으로.
                    },
                                    ......
    ];

    // 전공이수학점이 얼마인지, 전공평점이 얼마인지 
    > 총평점 : 3.92, 전공평점:3.5, 이수학점:12, 전공이수학점:6
    ```

  - major 을 검사할 수 있는 조건문을 추가

  - 출력문 맞춤 수정

    - 전공평점과 전공이수학점 추가

- ### 요구사항 2

  단위의 범위가 변경되었을 경우 이를 처리할 수 있는 함수를 만들어보자.
  함수가 범용적으로 쓸수 있도록 하자, 4.5가 아니고 만점이 4.0인 경우에도 동작할 수 있도록 한다.

  ```
  > 총평점 : 3.92, 전공평점:3.5, 이수학점:12, 전공이수학점:6
  > 4.0학점으로 변환하는 경우 총평점은 x.xx은 입니다.
  ```

  - 4.0 학점으로 변환하는 경우
    - A 학점이 4.0 만점
    - 나머지는 그대로
    - 비례식을 이용
      - (기준 총 평점 * 4) / 4.5

- ### 요구사항 3

  - 새로운 과목을 추가하는 'addLecture' 라는 함수를 만들자.

    ```javascript
    > 총평점 : 3.92, 전공평점:3.5, 이수학점:12, 전공이수학점:6.
    > 4.0학점으로 변환하는 경우 총평점은 x.xx은 입니다. 

    > addLecture({'name' : '알고리즘', 'grade' : 'B', 'credit' : 3, 'bMajor' : true});
    > showGrade();
    > 총평점 : 3.42, 전공평점:3.3, 이수학점:15, 전공이수학점:9.
    > 4.0학점으로 변환하는 경우 총평점은 x.xx은 입니다.
    ```

    - addLecture(obj) { }
      - for in 을 통해서 각 데이터를 계산
        - 변수들을 전역변수로 변환
      - 하려 했으나, 그냥 기존 데이터에 추가하는 식으로 구성함
      - 이후, 함수의 재배치를 통해서 처음부터 다시 계산하는 식으로 진행
        - **나중에 데이터가 많아지면 문제가 생길것이 예상됨**
        - 총점에만 더해서 바로 계산만 하면 효율적이지 않을까 생각이 듬
        - 근데 같은 `object` 로 들어오는데 `for in` 구문에서 출력되는
        - 데이터의 종류가 다름
          - 배열일 경우 인덱스가 출력되고
          - Add할 경우는 각 `name`이 출력됨

  - 함수를 1가지의 기능만 할 수 있도록 다시 구성

    - showGrade : 출력 기능
    - calGradeAndCredit : 평점과 이수학점 계산기능
    - addLecture : 과목추가 기능
    - translateGradeToNum : 평점을 숫자로 바꿔주는 기능

  - 실수

    - 전공학점을 총이수학점으로 착각하고 계산하는 구문을 빠트림

- ### 요구사항 4

  최종 출력 결과가 2초 뒤에 화면에 나타나도록 해보자.

  ```javascript
  > addLecture({...});
  > addLecture({...});
  > showGrade();  // 이후 2초뒤에 아래 결과가 화면에 노출된다.
  >  총평점 : 4.0, 전공평점:3.3, 이수학점:5, 전공이수학점:2.
  > 4.0학점으로 변환하는 경우 총평점은 x.xx은 입니다.
  ```

